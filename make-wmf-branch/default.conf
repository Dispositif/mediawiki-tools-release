<?php
# vim: syn=php

# You can override variables in this file by creating a file in the same
# directory called local.conf

# Branched extensions - these extensions are branched along with core.
# Branching instead of using a HEAD checkout makes it easy to backport changes.
$branchedExtensions = array(
	'AbuseFilter',
	'AccountAudit',
	'ActiveAbstract', // Used as part of dumpBackup
	'AntiSpoof',
	'ApiSandbox',
	'Babel',
	'BetaFeatures',
	'BounceHandler',
	'Calendar',
	'Campaigns',
	'CategoryTree',
	'CentralAuth',
	'CharInsert',
	'CheckUser',
	'CirrusSearch',
	'Cite',
	'CiteThisPage',
	'Citoid',
	'cldr',
	'CleanChanges',
	'CodeEditor',
	'CodeReview',
	'Collection',
	'CommonsMetadata',
	'ConfirmEdit',
	'ContactPage',
	'ContentTranslation',
	'ContributionTracking',
	'CreditsSource',
	'CustomData',
	'DisableAccount',
	'Disambiguator',
	'DismissableSiteNotice',
	'DoubleWiki',
	'DynamicSidebar',
	'Echo',
	'EducationProgram',
	'Elastica',
	'EventLogging',
	'ExtensionDistributor',
	'FeaturedFeeds',
	'FlaggedRevs',
	'Flow',
	'FundraiserLandingPage',
	'FundraisingTranslateWorkflow',
	'Gadgets',
	'GeoCrumbs',
	'GeoData',
	'GettingStarted',
	'Graph',
	'GlobalBlocking',
	'GlobalCssJs',
	'GlobalUsage',
	'GlobalUserPage',
	'GoogleNewsSitemap',
	'GuidedTour',
	'GWToolset',
	'ImageMap',
	'ImageMetrics',
	'InputBox',
	'Insider',
	'intersection',
	'Interwiki',
	'JsonConfig',
	'LabeledSectionTransclusion',
	'LandingCheck',
	'LdapAuthentication',
	'LiquidThreads',
	'Listings',
	'LocalisationUpdate',
	'Mantle',
	'MapSources',
	'MassMessage',
	'Math',
	'MobileApp',
	'MobileFrontend',
	'MoodBar',
	'MultimediaViewer',
	'MwEmbedSupport',
	'NavigationTiming',
	'NewUserMessage',
	'Nuke',
	'OAuth',
	'OAI',
	'OATHAuth',
	'OpenStackManager',
	'Oversight',
	'PagedTiffHandler',
	'PageImages',
	'PageTriage',
	'ParserFunctions',
	'Parsoid',
	'PdfHandler',
	'Petition',
	'Poem',
	'PoolCounter',
	'Popups',
	'ProofreadPage',
	'Quiz',
	'RandomRootPage',
	'RelatedArticles',
	'RelatedSites',
	'Renameuser',
	'RestBaseUpdateJobs',
	'RSS',
	'SandboxLink',
	'Scribunto',
	'Score',
	'SearchExtraNS',
	'SecurePoll',
	'ShortUrl',
	'SiteMatrix',
	'SpamBlacklist',
	'SubPageList3',
	'SubpageSortkey',
	'SyntaxHighlight_GeSHi',
	'TemplateData',
	'TemplateSandbox',
	'TextExtracts',
	'Thanks',
	'TimedMediaHandler',
	'timeline',
	'TitleBlacklist',
	'TocTree',
	'TorBlock',
	'Translate',
	'TranslationNotifications',
	'TrustedXFF',
	'UnicodeConverter',
	'UniversalLanguageSelector',
	'UploadWizard',
	'UserDailyContribs',
	'UserMerge',
	'VectorBeta',
	'VipsScaler',
	'VisualEditor',
	'WikiEditor',
	'WikiGrok',
	'wikihiero',
	'WikiLove',
	'WikimediaEvents',
	'WikimediaIncubator',
	'WikimediaMaintenance',
	'WikimediaMessages',
	'XAnalytics',
	'ZeroBanner',
	'ZeroPortal',

	// For wikitech use only!
	'SemanticForms',
);

# For some branched extensions, we branch their submodules as well
$branchedSubmodules = array(
	'extensions/VisualEditor' => array( 'lib/ve' )
);

$branchedSkins = array(
	'CologneBlue',
	'MonoBook',
	'Modern',
	'Nostalgia',
	'Vector',
);

# Extensions extensions that we want to copy their status from the previous branch
# The key is the extension name and the value is either true (copy last branch) or
# a string (use that exact commit hash)
$specialExtensions = array(
	'CentralNotice' => 'wmf_deploy',
	'DonationInterface' => 'deployment',

	// to use instead of the above
	'Wikidata' => 'wmf/1.25wmf22',

	// For wikitech use only!
	'SemanticMediaWiki' => '1.8.x',
	'SemanticResultFormats' => '1.8.x',
	'Validator' => '0.5.x',
);

# Repository paths. $baseRepoPath is for operations that require write operations
# and $anonRepoPath is for anonymous stuff.
$baseRepoPath = 'ssh://gerrit.wikimedia.org:29418/mediawiki';
$anonRepoPath = 'https://gerrit.wikimedia.org/r/p/mediawiki';

$branchPrefix = 'wmf/';

# Map of custom patches (refs/*) to gerrit /mediawiki/ relative base paths (repos)
$patches = array(
);

$dryRun = false; // Don't actually push anything
$noisy = false; // Output git commands
